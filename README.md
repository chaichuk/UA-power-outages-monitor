# üá∫üá¶ Power Outages Monitor (Data Aggregator)

–¶–µ–π –ø—Ä–æ—î–∫—Ç —î –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º –¥–∞–Ω–∏—Ö –ø—Ä–æ –≥—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó –≤ –£–∫—Ä–∞—ó–Ω—ñ. –í—ñ–Ω –∑–±–∏—Ä–∞—î –¥–∞–Ω—ñ –∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª (—Å–∞–π—Ç–∏ DTEK, API YASNO, –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ JSON –≤—ñ–¥ –æ–±–ª–µ–Ω–µ—Ä–≥–æ) —Ç–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑—É—î —ó—Ö —É —î–¥–∏–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É Cloudflare Workers).

## üåç –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –†–µ–≥—ñ–æ–Ω–∏ —Ç–∞ –î–∂–µ—Ä–µ–ª–∞

–°–∫—Ä–∏–ø—Ç –∑–±–∏—Ä–∞—î –¥–∞–Ω—ñ –¥–ª—è **15 –æ–±–ª–∞—Å—Ç–µ–π** —Ç–∞ **2 –º—ñ—Å—Ç**:

### üè¢ DTEK (–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π —Å–∞–π—Ç)
- –ö–∏—ó–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –û–¥–µ—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –î–Ω—ñ–ø—Ä–æ–ø–µ—Ç—Ä–æ–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å

### üí° YASNO (API)
- –º. –ö–∏—ó–≤
- –º. –î–Ω—ñ–ø—Ä–æ (–î–Ω–ï–ú)
- –º. –î–Ω—ñ–ø—Ä–æ (–¶–ï–ö)

### üìÇ GitHub / –û–±–ª–µ–Ω–µ—Ä–≥–æ (JSON)
- –õ—å–≤—ñ–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –ü–æ–ª—Ç–∞–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –ß–µ—Ä–∫–∞—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –ß–µ—Ä–Ω—ñ–≥—ñ–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –•–∞—Ä–∫—ñ–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –•–º–µ–ª—å–Ω–∏—Ü—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –†—ñ–≤–Ω–µ–Ω—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –¢–µ—Ä–Ω–æ–ø—ñ–ª—å—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –ó–∞–∫–∞—Ä–ø–∞—Ç—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –ó–∞–ø–æ—Ä—ñ–∑—å–∫–∞ –æ–±–ª–∞—Å—Ç—å
- –ñ–∏—Ç–æ–º–∏—Ä—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å

## üõ† –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. **Scraping**: –°–∫—Ä–∏–ø—Ç (`src/monitor.js`) –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è (–ª–æ–∫–∞–ª—å–Ω–æ –∞–±–æ —á–µ—Ä–µ–∑ GitHub Actions).
2. **Data Collection**:
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Playwright** –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥—É —Å–∞–π—Ç—ñ–≤ DTEK (–æ–±—Ö—ñ–¥ –∑–∞—Ö–∏—Å—Ç—É, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ Emergency —Ä–µ–∂–∏–º—ñ–≤).
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `fetch` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤—ñ–¥ Yasno —Ç–∞ JSON-—Ñ–∞–π–ª—ñ–≤ –æ–±–ª–µ–Ω–µ—Ä–≥–æ.
3. **Normalization**: –í—Å—ñ –¥–∞–Ω—ñ –ø—Ä–∏–≤–æ–¥—è—Ç—å—Å—è –¥–æ —î–¥–∏–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É ("Svitlo Format").
4. **Aggregation**: –î–∞–Ω—ñ –æ–±'—î–¥–Ω—É—é—Ç—å—Å—è –≤ –æ–¥–∏–Ω JSON-–ø–∞–∫–µ—Ç.
5. **Distribution**: –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π JSON –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –Ω–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π Cloudflare Worker.

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –í–∏–º–æ–≥–∏
- Node.js (v22+)
- `npm`

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
npm install
npx playwright install chromium
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (.env)

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —ñ–∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏:

```env
# –î–ª—è –ø–∞—Ä—Å–∏–Ω–≥—É DTEK (–∞–¥—Ä–µ—Å–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤)
# (–ú–æ–∂–Ω–∞ –∑–∞–ª–∏—à–∏—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º, —è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ DTEK —Ä–µ–≥—ñ–æ–Ω–∏)
CITY_KYIV=–ö–∏—ó–≤
STREET_KYIV=–•—Ä–µ—â–∞—Ç–∏–∫
HOUSE_KYIV=1

CITY_ODESA=–û–¥–µ—Å–∞
STREET_ODESA=–î–µ—Ä–∏–±–∞—Å—ñ–≤—Å—å–∫–∞
HOUSE_ODESA=1

CITY_DNIPRO=–î–Ω—ñ–ø—Ä–æ
STREET_DNIPRO=–Ø–≤–æ—Ä–Ω–∏—Ü—å–∫–æ–≥–æ
HOUSE_DNIPRO=1

# Cloudflare Worker (–∫—É–¥–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
CF_WORKER_URL=https://your-worker.workers.dev
CF_WORKER_TOKEN=your-upload-token
```

### –ó–∞–ø—É—Å–∫

```bash
# –†–∞–∑–æ–≤–∏–π –∑–∞–ø—É—Å–∫
npm start

# –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ (watch)
npm run watch
```

## üìú –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
